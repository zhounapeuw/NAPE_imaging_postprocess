<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Suite2p Segmentation Parameter Explanations and Demos &mdash; NAPE Center Calcium Imaging Analysis Documentation 1.0 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Suite2p Preprocessing Pipeline" href="suite2p.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="NAPE_Head.html" class="icon icon-home"> NAPE Center Calcium Imaging Analysis Documentation
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install_anaconda_sima.html">Anaconda, Jupyter Notebook, SIMA Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="installs2p.html">Installation of suite2p on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="suite2p.html">Suite2p Preprocessing Pipeline</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Suite2p Segmentation Parameter Explanations and Demos</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="NAPE_Head.html">NAPE Center Calcium Imaging Analysis Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="NAPE_Head.html" class="icon icon-home"></a> &raquo;</li>
      <li>Suite2p Segmentation Parameter Explanations and Demos</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/demos.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="suite2p-segmentation-parameter-explanations-and-demos">
<h1>Suite2p Segmentation Parameter Explanations and Demos<a class="headerlink" href="#suite2p-segmentation-parameter-explanations-and-demos" title="Permalink to this headline">\uf0c1</a></h1>
<p>Important note: parameters that users can define for segmentation are bolded. Explanations provided by the Suite2p authors are quoted thereafter. Notes and insight from parameter testing on our datasets are provided as bullet points.</p>
<p><strong>sparse_mode</strong>: “(bool, default: False) whether or not to use sparse_mode cell detection”</p>
<img alt="_images/compare_sparse.png" src="_images/compare_sparse.png" />
<p><strong>diameter</strong>: (Not used in sparse_mode = 1)</p>
<p><strong>spatial_scale</strong>:  “(int, default: 0) What the optimal scale of the recording is in . if set to 0, then the algorithm determines it autompixelsatically (recommend this on the first try). If it seems off, set it yourself to the following values: 1 (=6 pixels), 2 (=12 pixels), 3 (=24 pixels), or 4 (=48 pixels).”</p>
<p><strong>threshold_scaling</strong>:  “(float, default: 5.0) This controls the threshold at which to detect ROIs (how much the ROIs have to stand out from the noise to be detected). if you set this higher, then fewer ROIs will be detected, and if you set it lower, more ROIs will be detected.”</p>
<blockquote>
<div><blockquote>
<div><ul class="simple">
<li>To clarify, this is the threshold for the spatial correlation map. Any groups of pixels that have a local temporal correlation above the threshold will be considered for grouping to an ROI</li>
</ul>
</div></blockquote>
<img alt="_images/compare_threshold.png" src="_images/compare_threshold.png" />
</div></blockquote>
<p><strong>max_overlap</strong>:  “(float, default: 0.75) we allow overlapping ROIs during cell detection. After detection, ROIs with more than ops[‘max_overlap’] fraction of their pixels overlapping with other ROIs will be discarded. Therefore, to throw out NO ROIs, set this to 1.0.”</p>
<blockquote>
<div><ul class="simple">
<li>If recordings show dense cell labeling (ie. ROIs that are close to eachother an overlapping), setting this value</li>
</ul>
</div></blockquote>
<p><strong>max_iterations</strong>:  “(int, default: 20) How many iterations over which to extract cells - at most ops[‘max_iterations’], but usually stops before due to ops[‘threshold_scaling’] criterion.”</p>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="suite2p.html" class="btn btn-neutral float-left" title="Suite2p Preprocessing Pipeline" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Zhe Charles Zhou.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>